<!DOCTYPE html>
<html lang="fa" dir="ltr">

<head>
    <meta charset="UTF-8" />
    <title>ูุฑุขูุฏ ููุฑูโูุง (Ehrenfest variant) โ ุฒูุฌุฑู ูุงุฑฺฉูู</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- ุงุณุชุงู ูุดุชุฑฺฉ -->
    <link rel="stylesheet" href="../assets/css/styles.css" />

    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)'], ['$', '$']]
            },
            chtml: {
                mtextInheritFont: true,
                matchFontHeight: false
            },
            options: {
                renderActions: {
                    addMenu: []
                }
            }
        };
    </script>
    <script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

    <!-- ุงุณฺฉุฑูพุช ูุฎุตูุต ุงู ูุณุฃูู (ูุงฺูู ES) -->
    <script type="module" src="../assets/js/ehrenfest.js"></script>
</head>

<body>
    <div class="app-container">
        <h1 style="direction:rtl;">
            ูุฑุขูุฏ ููุฑูโูุง โ ูุฏู ูุงุฑฺฉูู
            <span class="badge">ุดุจูโุณุงุฒ </span>
        </h1>

        <div class="subtitle" style="direction:rtl;">
            ุฌุนุจูโุง ุจุง \(a\) ููุฑูโ ุณุงู ู \(b\) ููุฑูโ ูุฑูุฒ ุฏุงุฑู.
            ุฏุฑ ูุฑ ฺฏุงู ฺฉ ููุฑู ุจูโุตูุฑุช ุชุตุงุฏู ุงูุชุฎุงุจ ูโฺฉูู:
            ุงฺฏุฑ ุณุงู ุจุงุดุฏุ ููุงู ููุฑู ุจุฑูโฺฏุฑุฏุฏ ู ฺฉ ููุฑูโ ุณุงูู ุฌุฏุฏ ุงุถุงูู ูโฺฉููุ
            ุงฺฏุฑ ูุฑูุฒ ุจุงุดุฏุ ููุงู ููุฑูโ ูุฑูุฒ ุฑุง ููุท ุจุฑูโฺฏุฑุฏุงูู.
            ุชุนุฏุงุฏ ููุฑูโูุง ุณุงู ุจุนุฏ ุงุฒ ูุฑ ฺฏุงู ุฑุง ุจูโุตูุฑุช ฺฉ ุฒูุฌุฑูโ ูุงุฑฺฉูู ูุฏู ูโฺฉูู.
        </div>

        <div class="stack">

            <!-- ูพูู ุชูุธูุงุช -->
            <div class="panel">
                <h2>
                    ูพุงุฑุงูุชุฑูุง
                    <span>ุดุฑุงุท ุงููู ู ุชูุธูุงุช ุดุจูโุณุงุฒ</span>
                </h2>

                <form id="control-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="a">ุชุนุฏุงุฏ ุงูููโ ููุฑูโูุง ุณุงู \(a\)</label>
                            <input id="a" type="number" min="1" value="3" />
                        </div>
                        <div class="form-group">
                            <label for="b">ุชุนุฏุงุฏ ููุฑูโูุง ูุฑูุฒ \(b\)</label>
                            <input id="b" type="number" min="1" value="5" />
                        </div>
                        <div class="form-group">
                            <label for="steps">ุชุนุฏุงุฏ ฺฏุงูโูุง (n)</label>
                            <input id="steps" type="number" min="5" max="300" value="10" />
                        </div>
                        <div class="form-group">
                            <label for="seed">ุจุฐุฑ ุชุตุงุฏู</label>
                            <input id="seed" type="number" min="1" value="1" />
                        </div>
                    </div>

                    <div class="help-text" style="direction:rtl;">
                        ุญุงูุช ุณุณุชู ุฑุง ุจู ุตูุฑุช
                        \(X_n = \text{ุชุนุฏุงุฏ ููุฑูโูุง ุณุงู ุจุนุฏ ุงุฒ ฺฏุงู } n\)
                        ุฏุฑ ูุธุฑ ูโฺฏุฑู. ูุถุง ุญุงูุงุช
                        \(\{a, a+1, a+2, \dots\}\) ุงุณุช ู ุดุจูโุณุงุฒ ููุท ูุณุฑ
                        \(X_0,X_1,\dots,X_n\) ุฑุง ุจุฑุง ุดูุง ุชููุฏ ูโฺฉูุฏ ู ุฑู ุฌุนุจู ูุดุงู ูโุฏูุฏ.
                    </div>

                    <div class="btn-row">
                        <button type="button" id="random-seed-btn">
                            ๐ฒ ุจุฐุฑ ุฌุฏุฏ
                        </button>
                        <button type="submit" class="primary">
                            โถ ุงุฌุฑุง ุดุจูโุณุงุฒ
                        </button>
                    </div>
                </form>
            </div>

            <!-- ูพูู ุณูโุจุนุฏ + ุงุณูุงุฏุฑ ู ุชูุถุญุงุช -->
            <div class="panel chart-panel">
                <h2>
                    ุฌุนุจูโ ููุฑูโูุง ุฏุฑ ุทูู ฺฏุงูโูุง
                    <span>ููุงุด ุณูโุจุนุฏ + ุงุณูุงุฏุฑ ุฒูุงู</span>
                </h2>

                <!-- ูุญู ุฑูุฏุฑ ุณูโุจุนุฏ -->
                <div id="three-container" style="width: 100%; height: 320px;"></div>

                <div class="info-panel">
                    <div class="info-row">
                        <span class="label">ุงูุชุฎุงุจ ฺฏุงู</span>
                        <span id="step-label" class="pill">ฺฏุงู ฐ</span>
                    </div>
                    <input type="range" id="stepSlider" min="0" max="80" value="0" />

                    <div class="details-grid">
                        <div class="k">ุณุงู ูุจู ุงุฒ ฺฏุงู</div>
                        <div class="k">ูุฑูุฒ (ุซุงุจุช)</div>
                        <div class="k">ุฑูฺฏ ููุฑูโ ุงูุชุฎุงุจ</div>
                        <div class="k">ุณุงู ุจุนุฏ ุงุฒ ฺฏุงู</div>

                        <div id="detail-black-before" class="v">โ</div>
                        <div id="detail-red" class="v">โ</div>
                        <div id="detail-color" class="v">โ</div>
                        <div id="detail-black-after" class="v">โ</div>
                    </div>

                    <div class="eq-explainer">
                        ุงุญุชูุงูโูุง ุดุฑุท ุฏุฑ ุงู ฺฏุงู:
                        <div id="eq-probs" class="eq-line">โ</div>
                        ุฑุงุจุทูโ ุจูโุฑูุฒุฑุณุงู:
                        <div id="eq-update" class="eq-line">โ</div>
                    </div>
                </div>
            </div>
            <!-- ูพูู ุชูุถุญ ูุธุฑ -->
            <section class="math-panel" style="direction:rtl;">
                <h3>ูุฏูโุณุงุฒ ุจู ุตูุฑุช ุฒูุฌุฑูโ ูุงุฑฺฉูู</h3>

                <h4>ฑ. ุชุนุฑู ุญุงูุชโูุง</h4>
                <p>
                    ุฏุฑ ุงุจุชุฏุง ุฌุนุจู ุดุงูู \(a\) ููุฑูโ ุณุงู ู \(b\) ููุฑูโ ูุฑูุฒ ุงุณุช.
                    ุฏุฑ ูุฑ ฺฏุงูุ ฺฉ ููุฑู ุจูโุตูุฑุช ฺฉููุงุฎุช ุงุฒ ุจู ููุฑูโูุง ููุฌูุฏ ุงูุชุฎุงุจ ูโฺฉูู.
                </p>
                <p>
                    ูุชุบุฑ ุญุงูุช ุฑุง ุจู ุตูุฑุช
                    \[
                    X_n = n \text{ุชุนุฏุงุฏ ููุฑูโูุง ุณุงู ุจุนุฏ ุงุฒ ฺฏุงู }
                    \]
                    ุชุนุฑู ูโฺฉูู. ุชุนุฏุงุฏ ููุฑูโูุง ูุฑูุฒ ููุดู \(b\) ุจุงู ูโูุงูุฏุ ุฒุฑุง
                    ุงฺฏุฑ ููุฑูโ ูุฑูุฒ ุงูุชุฎุงุจ ุดูุฏุ ููุท ููุงู ููุฑู ุฑุง ุจุฑูโฺฏุฑุฏุงูู
                    ู ููุฑูโ ุฌุฏุฏ ุงุถุงูู ููโฺฉูู.
                </p>

                <h4>ฒ. ฺุฑุง \(\{X_n\}\) ุฒูุฌุฑูโ ูุงุฑฺฉูู ุงุณุชุ</h4>
                <p>
                    ุฏุฑ ฺฏุงู \(n+1\)ุ ุงูุชุฎุงุจ ููุฑู ููุท ุจู ูุถุนุช ูุนู ุฌุนุจู (ุนู \(X_n\) ุณุงู ู \(b\) ูุฑูุฒ)
                    ุจุณุชฺฏ ุฏุงุฑุฏุ ุงูฺฏูุฑุชู ุขูุฏู ุงุฒ ุชุงุฑุฎฺูโ ูุจู ุงุฒ \(n\) ุงุณุชูุงุฏู ููโฺฉูุฏ.
                </p>
                <p>
                    ุงฺฏุฑ ุฏุฑ ฺฏุงู \(n\) ุชุนุฏุงุฏ ููุฑูโูุง ุณุงู ุจุฑุงุจุฑ \(k\) ุจุงุดุฏุ ุขูฺฏุงู:
                    <br />
                    โ ุจุง ุงุญุชูุงู \(\dfrac{k}{k+b}\) ููุฑูโ ุงูุชุฎุงุจ ุณุงู ุงุณุช ู ุชุนุฏุงุฏ ููุฑูโูุง ุณุงู
                    ฺฉ ุฒุงุฏ ูโุดูุฏุ<br />
                    โ ุจุง ุงุญุชูุงู \(\dfrac{b}{k+b}\) ููุฑูโ ุงูุชุฎุงุจ ูุฑูุฒ ุงุณุช ู ุชุนุฏุงุฏ ููุฑูโูุง ุณุงู
                    ุชุบุฑ ููโฺฉูุฏ.
                </p>
                <p>
                    ุจูุงุจุฑุงู
                    \[
                    X_{n+1} =
                    \begin{cases}
                    k+1, & \text{ุจุง ุงุญุชูุงู } \dfrac{k}{k+b},\\[4pt]
                    k, & \text{ุจุง ุงุญุชูุงู } \dfrac{b}{k+b},
                    \end{cases}
                    \quad \text{ุจู ุดุฑุท } X_n = k.
                    \]
                    ุงุฒ ุขูุฌุง ฺฉู ุชูุฒุน \(X_{n+1}\) ููุท ุจู \(X_n\) ูุงุจุณุชู ุงุณุช ู ูู ุจู
                    \(X_{n-1},\dots,X_0\)ุ ูุฑุขูุฏ \(\{X_n\}\) ูฺฺฏ ูุงุฑฺฉูู ุฑุง ุฏุงุฑุฏ:
                    \[
                    P(X_{n+1}=j \mid X_n=i, X_{n-1},\dots,X_0)
                    = P(X_{n+1}=j \mid X_n=i).
                    \]
                </p>

                <h4>ณ. ุงุญุชูุงูโูุง ฺฏุฐุงุฑ ฺฉโูุฑุญููโุง</h4>
                <p>
                    ูุถุง ุญุงูุงุช ุฒูุฌุฑู ุจุฑุงุจุฑ ุงุณุช ุจุง
                    \[
                    S = \{a, a+1, a+2, \dots\},
                    \]
                    ุฒุฑุง ุฏุฑ ูุฑ ฺฏุงู ุญุฏุงฺฉุซุฑ ฺฉ ููุฑูโ ุณุงู ุฌุฏุฏ ุงุถุงูู ูโุดูุฏ ู ูฺโููุช
                    ููุฑูโ ุณุงู ุญุฐู ููโฺฉูู.
                </p>
                <p>
                    ุงฺฏุฑ ุฏุฑ ุญุงูุช \(k \in S\) ุจุงุดู (ุนู \(k\) ููุฑูโ ุณุงู ู \(b\) ููุฑูโ ูุฑูุฒ):
                </p>
                <ul>
                    <li>
                        ุงุญุชูุงู ุงูฺฉู ููุฑูโ ุงูุชุฎุงุจโุดุฏู ุณุงู ุจุงุดุฏ
                        \(\displaystyle \frac{k}{k+b}\) ุงุณุช ู ุฏุฑ ุงู ุตูุฑุช
                        \(X_{n+1} = k+1\).
                    </li>
                    <li>
                        ุงุญุชูุงู ุงูฺฉู ููุฑูโ ุงูุชุฎุงุจโุดุฏู ูุฑูุฒ ุจุงุดุฏ
                        \(\displaystyle \frac{b}{k+b}\) ุงุณุช ู ุฏุฑ ุงู ุตูุฑุช
                        \(X_{n+1} = k\).
                    </li>
                </ul>
                <p>
                    ูพุณ ุงุญุชูุงูโูุง ฺฏุฐุงุฑ ุชฺฉโูุฑุญููโุง \(p_{ij} = P(X_{n+1}=j \mid X_n=i)\) ุจู ุตูุฑุช ุฒุฑ ุงุณุช:
                    \[
                    p_{ij} =
                    \begin{cases}
                    \dfrac{i}{i+b}, & j = i+1,\\[6pt]
                    \dfrac{b}{i+b}, & j = i,\\[4pt]
                    0,&.\text{ุฏุฑ ุบุฑ ุงู ุตูุฑุช}
                    \end{cases}
                    \]
                </p>
                <p>
                    ุฑู ูููุฏุงุฑุ ูุฑ ฺฏุงู \(n \to n+1\) ฺฉ ูููููโฺฏุฑ ุงุฒ ููู ุงุญุชูุงูโูุง
                    \(p_{i,i}\) ู \(p_{i,i+1}\) ุงุณุช.
                </p>
            </section>
        </div>
    </div>

    <footer class="site-footer">
        <div class="footer-inner" style="direction: ltr;">
            <span class="footer-logo" aria-hidden="true"><img src="../assets/img/logo.png"></span>
            <span class="footer-text">
                ยฉ
                <a href="https://hoosh.pro" target="_blank" rel="noopener">
                    HOOSH PRO
                </a>
                โ MADE WITH
                <span class="footer-heart" aria-hidden="true">โฅ</span>
            </span>
        </div>
    </footer>
</body>

</html>
