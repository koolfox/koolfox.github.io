<!DOCTYPE html>
<html lang="fa" dir="ltr">

<head>
    <meta charset="UTF-8" />
    <title>ุฒูุฌุฑู ูุงุฑฺฉูู ููุฌูุฏ (b,B) โ ุดุจูโุณุงุฒ </title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- ุงุณุชุงูโูุง -->
    <link rel="stylesheet" href="../assets/css/styles.css" />

    <!-- Chart.js ุจุฑุง ุฑุณู ูููุฏุงุฑ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)'], ['$', '$']]
            },
            chtml: {
                mtextInheritFont: true,
                matchFontHeight: false
            },
            options: {
                renderActions: {
                    addMenu: []
                }
            }
        };
    </script>
    <script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

    <!-- ุงุณฺฉุฑูพุช ุงุตู ุจุฑูุงูู -->
    <script src="../assets/js/inventory.js" defer></script>
</head>

<body>
    <div class="app-container">
        <h1 style="direction:rtl;">
            ุฒูุฌุฑู ูุงุฑฺฉูู ููุฌูุฏ (b,B)
            <span class="badge">ุดุจูโุณุงุฒ </span>
        </h1>
        <div class="subtitle" style="direction:rtl;">
            ุชูุงุถุง ููุชฺฏ \(Y_i\) ูุณุชูู ู ุฏุงุฑุง ุชูุฒุน ฺฉุณุงู
            \(P(Y=j)=a_j\) ุงุณุช.
        </div>
        <div class="subtitle" style="direction:rtl;">
            ุณุงุณุช \((b,B)\) ุฑู ุณุณุชู ุงุนูุงู ูโฺฉูู
            ู ูุดุงู ู ุฏูู ุฏูุจุงููโ ููุฌูุฏโูุง \(X_n\) ฺฉ ุฒูุฌุฑู ูุงุฑฺฉูู ูโุดูุฏ.
        </div>

        <div class="stack">
            <!-- ูพูู ูุฑู (ุจุงูุง) -->
            <div class="panel">
                <h2>
                    ูพุงุฑุงูุชุฑูุง
                    <!-- <span>ุจุง ุขููุง ุจุงุฒ ฺฉูุฏ ู ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ</span> -->
                </h2>
                <form id="control-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="weeks">ุชุนุฏุงุฏ ููุชูโูุง (ุงูู ุฒูุงู)</label>
                            <input id="weeks" type="number" min="5" max="200" value="52" />
                        </div>
                        <div class="form-group">
                            <label for="x0">ููุฌูุฏ ุงููู \(X_0\)</label>
                            <input id="x0" type="number" min="0" value="5" />
                        </div>
                        <div class="form-group">
                            <label for="B">ุณุทุญ ุณูุงุฑุด ุชุง \(B\)</label>
                            <input id="B" type="number" min="1" value="10" />
                        </div>
                        <div class="form-group">
                            <label for="b">ุขุณุชุงูู ุณูุงุฑุด ูุฌุฏุฏ \(b\)</label>
                            <input id="b" type="number" min="0" value="4" />
                        </div>
                        <div class="form-group" style="grid-column: 1 / -1;">
                            <label for="pmf">
                                ุงุญุชูุงูุงุช ุชูุงุถุง \((a_0,a_1,\dots)\)
                            </label>
                            <textarea id="pmf" rows="2">0.3, 0.3, 0.2, 0.2</textarea>
                        </div>
                        <div class="form-group">
                            <label for="seed">ุจุฐุฑ ุชุตุงุฏู</label>
                            <input id="seed" type="number" min="1" value="1" />
                        </div>
                    </div>
                    <div class="help-text" style="direction:rtl;">
                        ุถุฑุงุจ \(a_0,a_1,\dots,a_K\) ุฑุง ุจุง ูุฑฺฏูู ุฌุฏุง ฺฉูุฏุ ูุซูุงู
                        <code>0.3, 0.3, 0.2, 0.2</code>
                    </div>
                    <div class="help-text" style="direction:rtl;">
                        ุนู
                        \(P(Y=0)=0.3, P(Y=1)=0.3, P(Y=2)=0.2, P(Y=3)=0.2\).
                    </div>
                    <div class="help-text" style="direction:rtl;">
                        ููุงุฏุฑ ุจูโุทูุฑ ุฎูุฏฺฉุงุฑ ูุฑูุงูโุณุงุฒ ูโุดููุฏ ุชุง ุฌูุนุดุงู ฑ ุดูุฏ.
                        ุงฺฏุฑ ุจุฐุฑ ู ูพุงุฑุงูุชุฑูุง ุซุงุจุช ุจุงุดูุฏุ ูุณุฑ ุดุจูโุณุงุฒ ูู ุชฺฉุฑุงุฑูพุฐุฑ ุงุณุช.
                    </div>
                    <div class="btn-row">
                        <button type="button" id="random-seed-btn">
                            ๐ฒ ุจุฐุฑ ุฌุฏุฏ
                        </button>
                        <button type="submit" class="primary">
                            โถ ุงุฌุฑุง ุดุจูโุณุงุฒ
                        </button>
                    </div>
                </form>
            </div>

            <!-- ูพูู ูููุฏุงุฑ (ูุณุท) -->
            <div class="panel chart-panel">
                <h2>
                    ุชุบุฑุงุช ููุฌูุฏ ุฏุฑ ุฒูุงู
                    <span>ูููุฏุงุฑ ูพููโุง + ูพุฑุดโูุง ุณูุงุฑุด</span>
                </h2>
                <canvas id="inventoryChart"></canvas>

                <div class="info-panel">
                    <div class="info-row">
                        <span class="label">ุงูุชุฎุงุจ ููุชู</span>
                        <span id="week-label" class="pill">ููุชู ฑ</span>
                    </div>
                    <input type="range" id="weekSlider" min="1" max="52" value="1" />
                    <div class="details-grid">
                        <div class="k">ุดุฑูุน ููุชู</div>
                        <div class="k">ุณูุงุฑุด</div>
                        <div class="k">ุชูุงุถุง</div>
                        <div class="k">ูพุงุงู ููุชู</div>
                        <div id="detail-start" class="v">โ</div>
                        <div id="detail-order" class="v">โ</div>
                        <div id="detail-demand" class="v">โ</div>
                        <div id="detail-end" class="v">โ</div>
                    </div>
                    <div class="eq-explainer">
                        ุฑุงุจุทูโ ุงุณุชูุงุฏูโุดุฏู ุฏุฑ ุงู ููุชู:
                        <div id="eq-branch" class="eq-line">โ</div>
                        <div id="eq-eval" class="eq-line">โ</div>
                    </div>
                </div>
            </div>

            <!-- ุจุฎุด ุชูุถุญ ุฑุงุถ (ูพุงู) -->
            <section class="math-panel" style="direction:rtl;">
                <h3>ฺุทูุฑ ูุฏู ู ุฑูุงุจุทุ ูุณุฆูู ุฑุง ุญู ูโฺฉููุฏุ</h3>

                <h4>ฑ. ุชูุงุถุง ุชุตุงุฏู ู ุญุงูุช ูุงุฑฺฉูู</h4>
                <p>
                    ุชูุงุถุง ููุชฺฏ \(Y_1, Y_2, \dots\) ุฏุงุฑู ฺฉู
                    \[
                    P(Y_n = j) = a_j,\quad j=0,1,2,\dots,\ \forall n,
                    \]
                    ู ุฏูุจุงูู \(\{Y_n\}\) ูุณุชูู ู ููโุชูุฒุน ุงุณุช.
                </p>
                <p>
                    ุญุงูุช ุณุณุชูุ ููุฌูุฏ ูพุงุงู ููุชู ุงุณุช:
                    \[
                    X_n = \text{ููุฌูุฏ ุจุนุฏ ุงุฒ ูพุงุงู ููุชู } n.
                    \]
                    ููู ููุงุฏุฑ ุฑู ูููุฏุงุฑ ูพููโุง ุฑุณู ุดุฏูโุงูุฏ.
                </p>

                <h4>ฒ. ุณุงุณุช ุณูุงุฑุด \((b,B)\)</h4>
                <p>
                    ุฏุฑ ุงุจุชุฏุง ููุชู \(n+1\)ุ ุจู \(X_n\) ูฺฏุงู ูโฺฉูู:
                </p>
                <ul>
                    <li>ุงฺฏุฑ \(X_n \ge b\): ุณูุงุฑุด ุฏุงุฏู ููโุดูุฏ.</li>
                    <li>ุงฺฏุฑ \(X_n &lt; b\): ุจู ุงูุฏุงุฒู \(B - X_n\) ุณูุงุฑุด ูโุฏูู ุชุง ุงูุจุงุฑ ุจู ุณุทุญ \(B\) ุจุฑุณุฏ.</li>
                </ul>
                <p>
                    ุจูุงุจุฑุงู ููุฏุงุฑ ุณูุงุฑุด
                    \[
                    Q_{n+1} =
                    \begin{cases}
                    0, & X_n \ge b,\\
                    B - X_n, & X_n &lt; b.
                    \end{cases}
                    \]
                    ูพุณ ููุฌูุฏ ุงุจุชุฏุง ููุชู \(n+1\) ุจุฑุงุจุฑ ุงุณุช ุจุง
                    \[
                    I_{n+1}^{\text{start}} =
                    \begin{cases}
                    X_n, & X_n \ge b,\\
                    B, & X_n &lt; b.
                    \end{cases}
                    \]
                </p>

                <h4>ณ. ุฑุงุจุทู ุจูโุฑูุฒุฑุณุงู ููุฌูุฏ</h4>
                <p>
                    ุฏุฑ ุทูู ููุชู \(n+1\)ุ ุชูุงุถุง \(Y_{n+1}\) ุฑุฎ ูโุฏูุฏ. ุชุง ุฌุง ฺฉู ููุฌูุฏ ุงุฌุงุฒู ุจุฏูุฏ
                    ูโูุฑูุดู ู ุฒุฑ ุตูุฑ ููโุฑูู:
                    \[
                    X_{n+1} = \max\bigl(I_{n+1}^{\text{start}} - Y_{n+1}, 0\bigr).
                    \]
                    ุจุง ุฌุงโฺฏุฐุงุฑ ุฏู ุญุงูุช ุฏุงุฑู
                    \[
                    X_{n+1} =
                    \begin{cases}
                    \max(X_n - Y_{n+1}, 0), & X_n \ge b,\\[4pt]
                    \max(B - Y_{n+1}, 0), & X_n &lt; b.
                    \end{cases}
                    \]
                </p>
                <p>
                    ุฏุฑ ุงููุดูุ ุจุฑุง ูุฑ ููุชู ูุดุฎุต ูโุดูุฏ ฺฉุฏุงู ุดุงุฎู (ุจุงูุง \(b\) ุง ุฒุฑ \(b\))
                    ูุนุงู ุงุณุช ู ุณูพุณ ููุฏุงุฑ \(\max(\cdot,0)\) ุนุฏุฏ ูุญุงุณุจู ูโุดูุฏ.
                </p>

                <h4>ด. ฺุฑุง \(\{X_n\}\) ฺฉ ุฒูุฌุฑู ูุงุฑฺฉูู ุงุณุชุ</h4>
                <p>
                    ุญุงูุช ุจุนุฏ \(X_{n+1}\) ุชุงุจุน ุงุฒ \(X_n\) ู ุชูุงุถุง ุฌุฏุฏ \(Y_{n+1}\) ุงุณุช:
                    \[
                    X_{n+1} = f(X_n, Y_{n+1}).
                    \]
                    ฺูู \(Y_{n+1}\) ูุณุชูู ุงุฒ ฺฏุฐุดุชู ุงุณุช ู ููโุชูุฒุน ุจุง ุจููโ \(Y_n\)โูุงุณุชุ ุฏุงุฑู
                    \[
                    P(X_{n+1}=j \mid X_n=i, X_{n-1},\dots,X_0)
                    = P(X_{n+1}=j \mid X_n=i).
                    \]
                    ูพุณ \(\{X_n\}\) ฺฉ ุฒูุฌุฑู ูุงุฑฺฉูู ููฺฏู (ุฒูุงูโููฺฏู) ุงุณุช.
                </p>

                <h4>ต. ุงุญุชูุงูโูุง ฺฏุฐุงุฑ ุชฺฉโูุฑุญููโุง \(p_{ij}\)</h4>
                <p>
                    ฺูู ููุฌูุฏ ูฺโููุช ุงุฒ \(0\) ฺฉูุชุฑ ู ุงุฒ \(B\) ุจุดุชุฑ ููโุดูุฏุ ูุถุง ุญุงูุงุช
                    ุจุฑุงุจุฑ ุงุณุช ุจุง
                    \[
                    S = \{0,1,\dots,B\}.
                    \]
                </p>
                <p>
                    ุงฺฏุฑ \(a_k = P(Y = k)\) ุจุงุดุฏุ ุงุญุชูุงูโูุง ฺฏุฐุงุฑ ุชฺฉโูุฑุญููโุง
                    \(p_{ij} = P(X_{n+1}=j \mid X_n=i)\) ุจู ุตูุฑุช ุฒุฑูุฏ.
                </p>
                <p>
                    ุงฺฏุฑ \(i \ge b\) (ุณูุงุฑุด ููโุฏูู ู ุงุฒ \(i\) ุดุฑูุน ูโฺฉูู):
                    \[
                    p_{ij} =
                    \begin{cases}
                    \displaystyle \sum_{k=i}^\infty a_k, & j=0,\\[8pt]
                    a_{i-j}, & j=1,2,\dots,i,\\[4pt]
                    0, & j>i.
                    \end{cases}
                    \]
                </p>
                <p>
                    ุงฺฏุฑ \(i &lt; b\) (ุณูุงุฑุด ุชุง ุณุทุญ \(B\)ุ ุนู ุดุฑูุน ุงุฒ \(B\)):
                    \[
                    p_{ij} =
                    \begin{cases}
                    \displaystyle \sum_{k=B}^\infty a_k, & j=0,\\[8pt]
                    a_{B-j}, & j=1,2,\dots,B,\\[4pt]
                    0, & j>B.
                    \end{cases}
                    \]
                </p>
                <p>
                    ูุฑ ูพุฑุด \(i \to j\) ฺฉู ุฑู ูููุฏุงุฑ ูโุจูุฏุ ฺฉ ุชุญูู ุชุตุงุฏู
                    ุงุฒ ููู \(p_{ij}\)โูุงุณุชุ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชูุฒุน \(\{a_j\}\) ุงูุชุฎุงุจโุดุฏูโ ุดูุง.
                </p>
            </section>
        </div>
    </div>
    <footer class="site-footer">
        <div class="footer-inner" style="direction: ltr;">
            <span class="footer-logo" aria-hidden="true"><img src="../assets/img/logo.png"></span>
            <span class="footer-text">
                ยฉ
                <a href="https://hoosh.pro" target="_blank" rel="noopener">
                    HOOSH PRO
                </a>
                โ MADE WITH
                <span class="footer-heart" aria-hidden="true">โฅ</span>
            </span>
        </div>
    </footer>
</body>

</html>
